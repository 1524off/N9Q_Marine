<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>é›†çµæ™‚é–“è¨ˆç®—æ©Ÿï¼ˆ1524ï¼‰</title>
<style>
:root {
  --navy: #1565C0;
  --bg: #f7f9ff;
  --line: #d1d5db;
  --text: #1f2937;
}
body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans JP", sans-serif;
}
header {
  text-align: center;
  padding: 10px;
  font-weight: 600;
  font-size: 18px;
}
.clock {
  font-size: 1.4rem;
  font-weight: 600;
  letter-spacing: 0.5px;
}
.clock span {
  font-size: 0.9rem;
  color: #6b7280;
  margin-left: 4px;
}

main {
  max-width: 600px;
  margin: 0 auto;
  padding: 10px;
}
section {
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 10px;
  padding: 10px 14px;
  margin-bottom: 10px;
}

label {
  font-size: 14px;
  font-weight: 500;
  color: #374151;
}

/* ãƒœã‚¿ãƒ³ */
button {
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  padding: 10px;
  width: 100%;
  transition: 0.2s;
}
button#calcBtn {
  background: var(--navy);
  color: #fff;
  margin-top: 10px;
}
button#calcBtn:hover { background: #0b4aa8; }

button.small {
  width: auto;
  padding: 6px 12px;
  font-size: 18px;
  margin: 4px;
}
button#addBtn { background: #e5e7eb; }
button#removeBtn { background: #fee2e2; color: #b91c1c; }

/* ãƒ†ãƒ¼ãƒ–ãƒ« */
table {
  width: 100%;
  border-collapse: collapse;
  text-align: center;
  font-size: 14px;
}
th, td {
  border: 1px solid var(--line);
  padding: 6px;
}
th {
  background: #f0f4ff;
  font-weight: 600;
  color: var(--navy);
}

.pet-on { background: #eaf3ff; }

/* ãƒšãƒƒãƒˆæ®‹ã‚Šåˆ—éè¡¨ç¤º */
.hide-pet td:last-child, .hide-pet th:last-child {
  display: none;
}

/* å…±é€šç€å¼¾ */
#impactDisplay {
  text-align: center;
  font-size: 18px;
  font-weight: 600;
  color: var(--navy);
  margin-top: 6px;
}
</style>
</head>
<body>

<header>
  ç¾åœ¨æ™‚åˆ»ã€€<span class="clock" id="utcClock">--:--:--</span><span> UTC</span>
</header>

<main>
  <!-- ãƒ¢ãƒ¼ãƒ‰é¸æŠ -->
  <section>
    <label>ãƒ¢ãƒ¼ãƒ‰é¸æŠ</label><br>
    <select id="mode" style="width:100%;padding:6px;">
      <option value="normal">è¢«ã›é›†çµãƒ¢ãƒ¼ãƒ‰</option>
      <option value="reverse">ç€æ™‚é–“æŒ‡å®šãƒ¢ãƒ¼ãƒ‰</option>
    </select>
    <div id="impactSelectBox" style="margin-top:6px;display:none;">
      <label>å…±é€šç€å¼¾æ™‚åˆ»ï¼ˆUTCï¼‰</label>
      <select id="impactTime" style="width:100%;padding:6px;"></select>
    </div>
  </section>

  <!-- è¨­å®š -->
  <section>
    <div style="display:flex;flex-wrap:wrap;gap:10px;">
      <div style="flex:1;">
        <label>æº–å‚™æ™‚é–“ï¼ˆç§’ï¼‰</label>
        <select id="prep" style="width:100%;padding:6px;">
          <option>30</option><option>60</option><option>90</option><option>120</option>
        </select>
      </div>
      <div style="flex:1;">
        <label>é›†çµæ™‚é–“ï¼ˆåˆ†ï¼‰</label>
        <select id="rally" style="width:100%;padding:6px;">
          <option>5</option><option>10</option><option>15</option>
        </select>
      </div>
    </div>
    <button id="calcBtn">é›†çµãŒããŸï¼</button>
    <div style="display:flex;align-items:center;justify-content:space-between;margin-top:6px;">
      <div>
        <button id="addBtn" class="small">ï¼‹</button>
        <button id="removeBtn" class="small">âˆ’</button>
      </div>
      <label><input type="checkbox" id="showPet" checked> ãƒšãƒƒãƒˆè¡¨ç¤º</label>
    </div>
  </section>

  <!-- ãƒ†ãƒ¼ãƒ–ãƒ« -->
  <section>
    <table id="tbl">
      <thead>
        <tr><th>âœ…</th><th>é›†çµä¸»</th><th>è¡Œè»</th><th>å‡ºç™ºUTC</th><th>ğŸ¶</th></tr>
      </thead>
      <tbody id="tbody">
        <tr>
          <td><input type="checkbox" class="pet"></td>
          <td><input type="text" value="Marine" style="width:100%;border:none;text-align:center;"></td>
          <td><select class="march" style="width:100%;padding:4px;"></select></td>
          <td>-</td>
          <td class="pet-time">ğŸ¶ 1:59:59</td>
        </tr>
      </tbody>
    </table>
  </section>

  <div id="impactDisplay">ç€å¼¾æ™‚åˆ»ã€€--:--:-- UTC</div>
</main>

<script>
/* æ™‚è¨ˆ */
function pad(n){return String(n).padStart(2,"0");}
function fmtUTC(d){return `${pad(d.getUTCHours())}:${pad(d.getUTCMinutes())}:${pad(d.getUTCSeconds())}`;}
function tickClock(){document.getElementById("utcClock").textContent=fmtUTC(new Date());}
setInterval(tickClock,1000);tickClock();

/* è¡Œè»ãƒªã‚¹ãƒˆç”Ÿæˆ (34ã€œ180ç§’) */
document.querySelectorAll(".march").forEach(sel=>{
  for(let s=34;s<=180;s++){
    const m=Math.floor(s/60),sec=s%60;
    const opt=document.createElement("option");
    opt.value=s;
    opt.textContent=`${m>0?m+"åˆ†":""}${sec}ç§’`;
    sel.appendChild(opt);
  }
});

/* ç€æŒ‡å®šãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ (1åˆ†åˆ»ã¿) */
const impactSelect=document.getElementById("impactTime");
for(let h=0;h<24;h++){
  for(let m=0;m<60;m++){
    const opt=document.createElement("option");
    opt.value=`${pad(h)}:${pad(m)}`;
    opt.textContent=`${pad(h)}:${pad(m)}`;
    impactSelect.appendChild(opt);
  }
}

/* ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ */
document.getElementById("mode").addEventListener("change",()=>{
  const isReverse=document.getElementById("mode").value==="reverse";
  document.getElementById("impactSelectBox").style.display=isReverse?"block":"none";
});

/* ãƒšãƒƒãƒˆè¡¨ç¤ºON/OFF */
document.getElementById("showPet").addEventListener("change",e=>{
  document.getElementById("tbl").classList.toggle("hide-pet",!e.target.checked);
});

/* è¿½åŠ ãƒ»å‰Šé™¤ */
document.getElementById("addBtn").addEventListener("click",()=>{
  const tr=document.createElement("tr");
  tr.innerHTML=`<td><input type="checkbox" class="pet"></td>
  <td><input type="text" value="" style="width:100%;border:none;text-align:center;"></td>
  <td><select class="march" style="width:100%;padding:4px;"></select></td>
  <td>-</td><td class="pet-time">ğŸ¶ 1:59:59</td>`;
  document.getElementById("tbody").appendChild(tr);
  const sel=tr.querySelector(".march");
  for(let s=34;s<=180;s++){
    const m=Math.floor(s/60),sec=s%60;
    const opt=document.createElement("option");
    opt.value=s;
    opt.textContent=`${m>0?m+"åˆ†":""}${sec}ç§’`;
    sel.appendChild(opt);
  }
});

/* å‰Šé™¤ */
document.getElementById("removeBtn").addEventListener("click",()=>{
  const rows=document.querySelectorAll("#tbody tr");
  if(rows.length>1) rows[rows.length-1].remove();
});

/* é›†çµãŒããŸï¼ï¼ˆä»®å‹•ä½œï¼‰*/
document.getElementById("calcBtn").addEventListener("click",()=>{
  document.getElementById("impactDisplay").textContent="ç€å¼¾æ™‚åˆ»ã€€12:10:20 UTC";
});
</script>
</body>
</html>